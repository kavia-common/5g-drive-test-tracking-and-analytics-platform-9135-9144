{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines the UploadPage React component for uploading, validating, and managing log files, including recent uploads. It handles drag-and-drop, file selection, client-side validation, upload process with progress, and local storage of recent uploads.", "external_files": ["../components/ui/Card", "../components/ui/Badge", "../components/ui/Button", "../components/auth/RequireRole", "../services/dataService", "./UploadPage.module.css"], "external_methods": ["dataService.uploadLogs"], "published": [], "classes": [], "methods": [{"name": "bytesToHuman(bytes)", "description": "Converts a byte count into a human-readable string (e.g., 2.3 GB).", "scope": "", "scopeKind": ""}, {"name": "getFileExtensionLower(name)", "description": "Extracts the file extension in lowercase from a filename.", "scope": "", "scopeKind": ""}, {"name": "validateFile(file)", "description": "Performs basic validation on a file, including type, size, and ZIP signature if applicable.", "scope": "", "scopeKind": ""}, {"name": "safeJsonParse(value, fallback)", "description": "Safely parses a JSON string, returning fallback on error.", "scope": "", "scopeKind": ""}, {"name": "readRecentUploads()", "description": "Reads persisted recent uploads from localStorage.", "scope": "", "scopeKind": ""}, {"name": "writeRecentUploads(items)", "description": "Persists recent uploads to localStorage.", "scope": "", "scopeKind": ""}, {"name": "statusTone(status)", "description": "Returns a badge tone based on upload status.", "scope": "", "scopeKind": ""}, {"name": "formatTime(iso)", "description": "Formats ISO date strings to locale string.", "scope": "", "scopeKind": ""}, {"name": "UploadPage()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "addFiles(fileList)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "clearAll()", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "clearRecentUploads()", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "dedupeNewFiles(existing, incoming)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "handleDragEnter(e)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "handleDragLeave(e)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "handleDragOver(e)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "handleDrop(e)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "handleInputChange(e)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "onPickFilesClick()", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "pushRecentUploads(newRecents)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "removeItem(id)", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}, {"name": "uploadAll()", "scope": "UploadPage", "scopeKind": "function", "description": "unavailable"}], "calls": ["dataService.uploadLogs"], "search-terms": ["UploadPage", "client-side validation", "drag and drop", "recent uploads", "file validation", "progress tracking", "localStorage", "upload management", "React", "UI components"], "state": 2, "file_id": 26, "knowledge_revision": 93, "git_revision": "69db6142bc8cc0413044466fdedb99d11f8e3e5d", "revision_history": [{"66": "69db6142bc8cc0413044466fdedb99d11f8e3e5d"}, {"93": "69db6142bc8cc0413044466fdedb99d11f8e3e5d"}], "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^              tabIndex={0}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.tabIndex", "scopeKind": "class"}, {"_type": "tag", "name": "ALLOWED_EXTENSIONS", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  accept={ALLOWED_EXTENSIONS.join(\",\")}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.accept", "scopeKind": "class"}, {"_type": "tag", "name": "ALLOWED_EXTENSIONS", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^const ALLOWED_EXTENSIONS = [\".zip\", \".7z\", \".rar\", \".log\", \".csv\", \".txt\"];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MAX_FILE_SIZE_BYTES", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^const MAX_FILE_SIZE_BYTES = 2 * 1024 * 1024 * 1024; \\/\\/ 2GB$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "MAX_RECENTS", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^const MAX_RECENTS = 12;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RECENT_UPLOADS_KEY", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^const RECENT_UPLOADS_KEY = \"op.recentUploads.v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "UploadPage", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^export default function UploadPage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "[ styles.dropzone, isDragging ? styles.dropzoneActive : \"\", anyUploading ? styles.dropzoneDisabled : \"\", ]", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                styles.dropzone,$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.className", "scopeKind": "class"}, {"_type": "tag", "name": "[\"operator\", \"admin\"]", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^    <RequireRole allow={[\"operator\", \"admin\"]}>$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.AnonymousClassb707a6cf0101", "scopeKind": "class"}, {"_type": "tag", "name": "addFiles", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  async function addFiles(fileList) {$/", "language": "JavaScript", "kind": "function", "signature": "(fileList)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "anyUploading", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  disabled={anyUploading || validItems.length === 0}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "anyUploading", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  disabled={anyUploading}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "anyUploading", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^              onDragEnter={anyUploading ? undefined : handleDragEnter}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onDragEnter", "scopeKind": "class"}, {"_type": "tag", "name": "anyUploading", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^              onDragLeave={anyUploading ? undefined : handleDragLeave}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onDragLeave", "scopeKind": "class"}, {"_type": "tag", "name": "anyUploading", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^              onDragOver={anyUploading ? undefined : handleDragOver}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onDragOver", "scopeKind": "class"}, {"_type": "tag", "name": "anyUploading", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^              onDrop={anyUploading ? undefined : handleDrop}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onDrop", "scopeKind": "class"}, {"_type": "tag", "name": "bytesToHuman", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^function bytesToHuman(bytes) {$/", "language": "JavaScript", "kind": "function", "signature": "(bytes)"}, {"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function clearAll() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "clearRecentUploads", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                onClick={clearRecentUploads}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "clearRecentUploads", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function clearRecentUploads() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "dedupeNewFiles", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function dedupeNewFiles(existing, incoming) {$/", "language": "JavaScript", "kind": "function", "signature": "(existing, incoming)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "formatTime", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^function formatTime(iso) {$/", "language": "JavaScript", "kind": "function", "signature": "(iso)"}, {"_type": "tag", "name": "getFileExtensionLower", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^function getFileExtensionLower(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "handleDragEnter", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function handleDragEnter(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleDragLeave", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function handleDragLeave(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleDragOver", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function handleDragOver(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleDrop", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function handleDrop(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "handleInputChange", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  onChange={handleInputChange}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "handleInputChange", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function handleInputChange(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "inputRef", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  ref={inputRef}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.ref", "scopeKind": "class"}, {"_type": "tag", "name": "onPickFilesClick", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  onClick={onPickFilesClick}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "onPickFilesClick", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function onPickFilesClick() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "pushRecentUploads", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function pushRecentUploads(newRecents) {$/", "language": "JavaScript", "kind": "function", "signature": "(newRecents)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "readRecentUploads", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^function readRecentUploads() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "recentUploads", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                disabled={recentUploads.length === 0}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "removeItem", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  function removeItem(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "safeJsonParse", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^function safeJsonParse(value, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(value, fallback)"}, {"_type": "tag", "name": "statusTone", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^function statusTone(status) {$/", "language": "JavaScript", "kind": "function", "signature": "(status)"}, {"_type": "tag", "name": "styles", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  className={styles.hiddenInput}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.multiple", "scopeKind": "class"}, {"_type": "tag", "name": "uploadAll", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^                  onClick={uploadAll}$/", "language": "JavaScript", "kind": "field", "scope": "UploadPage.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "uploadAll", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^  async function uploadAll() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "UploadPage", "scopeKind": "function"}, {"_type": "tag", "name": "validateFile", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^async function validateFile(file) {$/", "language": "JavaScript", "kind": "function", "signature": "(file)"}, {"_type": "tag", "name": "writeRecentUploads", "path": "/home/kavia/workspace/code-generation/5g-drive-test-tracking-and-analytics-platform-9135-9144/frontend_portal/src/pages/UploadPage.js", "pattern": "/^function writeRecentUploads(items) {$/", "language": "JavaScript", "kind": "function", "signature": "(items)"}], "hash": "8201ff51e0ef22412ca2c8d452053ec4", "format-version": 4, "code-base-name": "frontend_portal", "filename": "frontend_portal/src/pages/UploadPage.js", "fields": [{"name": "tabIndex={0}", "scope": "UploadPage.tabIndex", "scopeKind": "class", "description": "unavailable"}, {"name": "accept={ALLOWED_EXTENSIONS.join(\",\")}", "scope": "UploadPage.accept", "scopeKind": "class", "description": "unavailable"}, {"name": "styles.dropzone,", "scope": "UploadPage.className", "scopeKind": "class", "description": "unavailable"}, {"name": "<RequireRole allow={[\"operator\", \"admin\"]}>", "scope": "UploadPage.AnonymousClassb707a6cf0101", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={anyUploading || validItems.length === 0}", "scope": "UploadPage.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={anyUploading}", "scope": "UploadPage.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "onDragEnter={anyUploading ? undefined : handleDragEnter}", "scope": "UploadPage.onDragEnter", "scopeKind": "class", "description": "unavailable"}, {"name": "onDragLeave={anyUploading ? undefined : handleDragLeave}", "scope": "UploadPage.onDragLeave", "scopeKind": "class", "description": "unavailable"}, {"name": "onDragOver={anyUploading ? undefined : handleDragOver}", "scope": "UploadPage.onDragOver", "scopeKind": "class", "description": "unavailable"}, {"name": "onDrop={anyUploading ? undefined : handleDrop}", "scope": "UploadPage.onDrop", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={clearRecentUploads}", "scope": "UploadPage.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleInputChange}", "scope": "UploadPage.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={inputRef}", "scope": "UploadPage.ref", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={onPickFilesClick}", "scope": "UploadPage.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={recentUploads.length === 0}", "scope": "UploadPage.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "className={styles.hiddenInput}", "scope": "UploadPage.multiple", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={uploadAll}", "scope": "UploadPage.onClick", "scopeKind": "class", "description": "unavailable"}]}